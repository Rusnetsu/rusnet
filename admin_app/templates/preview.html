<!DOCTYPE html><html><head><meta charset="utf-8"><title>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é Telegram-–±–æ—Ç–∞</title><link rel="stylesheet" href="/admin_app/static/css/preview.css"></head><body><div class="container"><div style="display:flex;gap:24px">{% include "menu.html" %}<div style="flex:1"><div class="preview-container"><div class="preview-container"><div class="preview-header"><div class="preview-title">üì± –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é Telegram-–±–æ—Ç–∞: <strong>{{ current_bot_name }}</strong></div><div class="preview-controls"><a href="/admin/" class="button secondary">‚Üê –ù–∞–∑–∞–¥ –∫ –∞–¥–º–∏–Ω–∫–µ</a><select id="bot-select-preview" onchange="switchBot(this.value)" style="padding:8px 12px;border-radius:4px;border:1px solid #2b5278;background:#1e3a5c;color:white">{% for bot in bots %}<option value="{{ bot.id }}" {% if bot.id==current_bot_id %}selected{% endif %}>{{ bot.name }}(ID:{{ bot.id }})</option>{% endfor %}</select><button id="reset-preview" class="button">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button></div></div><div class="telegram-container"><div class="chat-area"><div class="telegram-header"><div class="telegram-avatar">ü§ñ</div><div class="telegram-header-info"><div class="telegram-header-name">Service Bot</div><div class="telegram-header-status">online ‚Ä¢ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é</div></div></div><div class="telegram-body" id="telegram-body"><div id="menu-container" class="menu-container"></div></div></div></div></div></div></div></div></div><script>const currentBotId={{ current_bot_id }};const menuTreeData={{ menu_tree | tojson }};</script><script>function switchBot(botId){window.location.href=`/admin/switch_bot/${botId}`;}</script><script src="/admin_app/static/js/preview.js"></script><script>document.addEventListener('DOMContentLoaded',function(){const container=document.getElementById('menu-container');if(container){container.innerHTML='';}if(typeof initializePreview==='function'&&menuTreeData){initializePreview(menuTreeData);}else{console.error('initializePreview function not found or menuTreeData is undefined');}const telegramBody=document.getElementById('telegram-body');const observer=new MutationObserver(()=>{telegramBody.scrollTop=telegramBody.scrollHeight;});observer.observe(document.getElementById('menu-container'),{childList:true,subtree:true});});</script></body></html>